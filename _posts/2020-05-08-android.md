---
layout: post
title: "안드로이드 구조"
tags: [mobile]
---

## 안드로이드 구조

- Native C/C++ - 안드로이드 OS가 앱 및 기능을 구동하기 위해 사용하는 라이브러리.
- JAVA API - 개발자가 어플리케이션을 제작할 때 사용하는 라이브러리.
- 시스템 어플리케이션 - OS에 내장된 기본 어플리케이션. 어플리케이션을 개발할 때 시스템 어플리케이션의 일부 기능을 가져다 사용할 수 있다. (ex. 카메라... )

## Android 9 (Pie)

현재 상용화되어 있는 가장 최신 버전. 이 버전에서 추가된 대표적인 기능들은 다음과 같다.

- WiFi-RTT: RTT를 지원하는 와이파이 장비를 찾아 **실내에서** 현재 위치를 추적하는 기능. GPS보다 더 정확하고 정밀.
- 디스플레이 컷아웃

## 안드로이드의 구성요소

- **Activity**: 눈에 보이는 화면(UI)을 관리하는 실행 단위. 하나의 화면 당 하나의 액티비티.

- **Service**: 화면을 가지고 있지 않은 실행단위. 사용자가 어플리케이션을 실행하는 중이 아니더라도 작동하는 백그라운드 프로세스를 구현

- **Broadcast Receiver**

- **Content Provider**: 데이터를 공유

## 액티비티

자바의 액티비티 클래스를 이용.

AndroidManifest.xml - 개발자가 안드로이드 OS에게 어플리케이션의 성격 및 정보를 알려주는 역할.

[안드로이드 액티비티](https://recipes4dev.tistory.com/67)

### 액티비티의 라이프사이클

- OnCreate
  - Activity가 생성될 때 / 또는 화면이 회전됐을 때 자동으로 호출
  - 처음에 한 번만 호출되므로 전체 객체나 자원을 구할 때 사용
- onStart
  - onCreate 호출 이후에 자동으로 호출
  - activity가 정지상태였다가 활동상태로 되돌아 올 때 호출
- onResume
  - onStart 호출 이후에 자동으로 호출
  - activity가 일시정지됐다가 다시 되돌아 올 때 호출
- onRestart
  - activity가 정지상태였다가 활동상태로 되돌아 올 때 onStart 전에 호출
- onPause
  - activity가 일시정지상태가 될 때 호출
  - 화면상에서 완전히 사라지거나 현재 화면 위에 팝업창이 뜰 때 호출
- onStop
  - activity가 화면상에서 사라질 때 호출
- onDestroy
  - 현재 activity가 완전히 종료되어 메모리에서 제거될 때 호출

## View

안드로이드 어플리케이션에서 눈에 보이는 모든 요소를 뷰(View) 라고 함. UI 구성을 위한 모든 객체는 View Class를 상속받아 구현한다. 위젯과 레이아웃으로 나뉜다.

### 레이아웃

( = 컨테이너, 뷰 그룹 ) 컨테이너 내부의 뷰 그룹을 관리하고 내부 요소들이 배치되는 모양을 결정.

### 위젯

문자열 입출력 등 사용자와 상호작용을 하는 모든 객체.

onCreateOptionsMenu

```java
// 뷰의 주소값을 담을 참조변수
TextView text1;

text1 = (TextView)findViewByid(R.id.textView);

// 옵션 메뉴의 항목을 터치하면 호출되는 메소드
@Override
onOptionsItemSelected(MenuItem item) {
	int id = item.getItemId();
	switch(id) {
		case Menu.FIRST:
			...
	}

}
```

# Toast

안드로이드에서 간단하게 메시지를 표시할 때 사용. 화면과 관련 없이 안드로이드 OS에게 메시지 출력을 요청하고, 안드로이드 OS는 각 어플리케이션이 요청한 순서대로 메시지를 표시. 일시적이어서 메시지가 사라진 이후에는 사용자가 다시 확인할 수 없음.

# 다이얼로그

개발자가 필요할 때 사용자에게 메시지를 전달하는 용도로 사용. 다이얼로그가 나타나 있을 때는 주변의 뷰를 누를 수 없음. 메시지 전달이나 입력 등의 용도로 사용. 화면이 작은 스마트폰 사용자에게 편리성을 제공하기 위함.

## 다이얼로그의 종류

1. 기본 다이얼로그

   총 3개의 버튼으로 구성할 수 있다. POSITIVE, NEUTRAL, NEGATIVE

2. 커스텀 다이얼로그

   다이얼로그 내부를 자유롭게 구성할 수 있다.

3. 기타 안드로이드 OS가 제공하는 다이얼로그

   - DatePicker
