---
layout: post

title: "최소 스패닝 트리"

category: [data structure, algorithm]

date: 2019-10-08
---

최소 스패닝 트리란 무엇일까?

# 최소 스패닝 트리(Minimum Spanning Tree)

- 트리: 순환하지 않는 그래프
- 스패닝 트리: **그래프의 모든 노드를 포함하는 트리**. 각 간선의 가중치를 합하면 스패닝 트리의 weight를 알 수 있다.
- 최소 스패닝 트리(MST): 그래프의 모든 노드를 포함하는 트리 중 **간선의 가중치의 합이 최소**인 트리

## cut property

![image-20191008161914537](/assets/images/cutproperty.png)

그래프를 두 그룹으로 나눌 수 있을 때, 각각 나눠진 덩어리를 **cut** 이라고 한다. 위 그림에서 T1와 T2를 각각 cut이라고 함. 이 두 트리를 하나로 합치는데, **최소 스패닝 트리(이하 MST)**로 만들고 싶다고 해보자. 그러면 가장 가중치가 작은 간선으로 이어야하고, 그 간선의 가중치도 트리의 MST에 포함된다.

## 크루스칼 알고리즘 (Kruskal's Algorithm)

**각 노드를 하나의 MST**로 보고 시작한다. 가장 가중치가 작은 간선들끼리 연결을 하는데, 순환이 되지 않도록 연결한다. 그렇게 끝까지 선택을 하면 최소 스패닝 트리가 완성된다.

알고리즘 자체는 간단하지만, 구현이 까다로운데 그 이유는

> 1. 간선을 **가중치 순으로 정렬**하는 것이 어렵기 때문
>
> 2. 매 간선을 이을 때마다 **순환이 생기는 지 체크**하기가 어렵기 때문

따라서 크루스칼 알고리즘을 구현하기에 앞서, **순환(사이클)이 생기는 조건**을 알아봐야 한다.

> **하나의 트리 내**에서 간선이 추가되면 사이클이 생긴다.

즉, 하나의 간선을 이을 때 **연결하려는 두 노드가 같은 트리에 포함되는지** 여부를 알면 순환이 생기는 지 여부를 알 수 있다. 그렇다면 두 노드가 같은 트리인지는 어떻게 알 수 있을까? 다른 트리라면 두 노드를 연결하면 되는데, 연결은 어떻게 할 수 있을까? 이를 구하기 위해 **Disjoint Set** 이라는 자료구조를 이용한다.

#### 💡 자료구조 - Disjoint Set

두 정점을 **하나의 그룹으로 묶거나**, 두 정점이 **같은 그룹에 속하는지** 알려주는 역할을 하는 자료구조. 트리를 이용해 구현할 수 있다. Disjoint set을 구현할 때, (1)하나의 그룹은 하나의 트리로 나타내고, (2)그 그룹의 대표는 루트노드라는 것을 중심으로 구현한다.

> 두 노드가 같은 그룹에 속하는 지 체크하는 법: 각 노드의 루트노드를 비교하면 된다.
>
> 두 노드를 하나의 그룹으로 묶는 방법: 각 노드의 대표(루트노드)를 구하고, 한 트리의 루트노드를 다른 트리 루트노드의 자식으로 만들어서 합친다. (ex. 1-2와 3-4를 합치면 3을 1의 자식노드가 된다.)
